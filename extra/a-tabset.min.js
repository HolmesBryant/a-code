/**
 * @author Holmes Bryant <https://github.com/HolmesBryant>
 * @version 3.0
 * @license MIT
 */
class ATabset extends HTMLElement{#t=1;#n="row";#e="stretch";#i=!1;#a;#s;#o;static#r;static domPurifyUrl="https://cdn.jsdelivr.net/npm/dompurify@3.1.5/dist/purify.es.mjs";static observedAttributes=["active","align","justify","sanitize"];static template=document.createElement("template");static{this.template.innerHTML='\n    <style>\n      :host {\n        display: block;\n        height: 100%;\n        overflow: hidden;\n        --atabset-bg1-color: hsl(45, 40%, 98.039%);\n        --atabset-bg2-color: hsl(40, 23.077%, 94.902%);\n        --atabset-bg3-color: hsl(40, 17.647%, 90%);\n        --atabset-bg4-color: hsl(38.182, 15.068%, 85.686%);\n        --atabset-border-color: hsl(40, 17.647%, 83.333%);\n        --atabset-text-color: hsl(36, 8.8757%, 33.137%);\n        --atabset-tab-radius: 5px;\n        --atabset-content-radius: 0 0 10px 10px;\n        --atabset-tab-padding: .25rem;\n        --atabset-content-padding: 1rem;\n        --atabset-transition: all .25s;\n      }\n\n      @media (prefers-color-scheme: dark) {\n        :host {\n          --atabset-bg1-color: rgb(20, 20, 20);\n          --atabset-bg2-color: rgb(40,40,40);\n          --atabset-bg3-color: rgb(60, 60, 60);\n          --atabset-bg4-color:  rgb(80, 80, 80);\n          --atabset-border-color: dimgray;\n          --atabset-text-color: snow;\n        }\n      }\n\n        /*---------------*/\n       /**** Borders ****/\n      /*---------------*/\n\n      #tabs li {\n        border-style: solid;\n        border-color: var(--atabset-border-color);\n        border-radius: var(--atabset-tab-radius);\n      }\n\n      :host(:not([align])) #tabs li,\n      :host([align="row"]) #tabs li {\n        border-width: 1px 1px 0 1px;\n        border-bottom-right-radius: 0;\n        border-bottom-left-radius: 0;\n      }\n\n      :host([align="row-reverse"]) #tabs li {\n        border-width: 0 1px 1px 1px;\n        border-top-right-radius: 0;\n        border-top-left-radius: 0;\n      }\n\n      :host([align="column"]) #tabs li {\n        border-width: 1px 0 1px 1px;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n      }\n\n      :host([align="column-reverse"]) #tabs li {\n        border-width: 1px 1px 1px 0;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n      }\n\n      #content-pane {\n        border: 1px solid var(--atabset-border-color);\n        border-radius: var(--atabset-content-radius);\n      }\n\n        /*-------------------*/\n       /**** Backgrounds ****/\n      /*-------------------*/\n\n      #tabs\n      { background: var(--atabset-bg2-color); }\n\n      #tabs li\n      { background: var(--atabset-bg3-color); }\n\n      #tabs li[active],\n      #content-pane > section[active]\n      { background: var(--atabset-bg4-color) }\n\n      #tabs li:not([active]):hover\n      { background: var(--atabset-accent-color) }\n\n        /*------------*/\n       /**** Misc ****/\n      /*------------*/\n\n      .initial-slots { display: none; }\n\n      #wrapper {\n        display: flex;\n        flex: 1;\n        height: inherit;\n        min-height: 0;\n      }\n\n      #tabs {\n        display: flex;\n        flex-shrink: 0;\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        position: sticky;\n        top: 0;\n        z-index: 1;\n      }\n\n      #tabs li {\n        align-items: center;\n        box-sizing: border-box;\n        cursor: pointer;\n        display: flex;\n        justify-content: center;\n        padding: var(--atabset-tab-padding);\n        transition: var(--atabset-transition);\n      }\n\n      #content-pane {\n        display: grid;\n        flex-grow: 1;\n        position: relative;\n        overflow-x: hidden;\n        overflow-y: auto;\n        z-index: 0;\n      }\n\n       #content-pane > section {\n        box-sizing: border-box;\n        grid-area: 1 / 1;\n        padding: var(--atabset-content-padding);\n        opacity: 0;\n        visibility: hidden;\n        transition: var(--atabset-transition);\n      }\n\n      #content-pane > section[active] {\n        visibility: visible;\n        opacity: 1;\n        z-index: 1;\n      }\n\n      /**** Rows ****/\n\n      :host(:not([align])) #wrapper,\n      :host([align="row"]) #wrapper\n      { flex-direction: column; }\n\n      :host(:not([align])) #tabs li,\n      :host([align="row"]) #tabs li\n      { margin-right: -1px; }\n\n      :host(:not([align])) #tabs li[active],\n      :host([align="row"]) #tabs li[active]\n      { margin-bottom: -1px; }\n\n      :host([align="row-reverse"]) #wrapper\n      { flex-direction: column-reverse; }\n\n      :host([align="row-reverse"]) #tabs li\n      { margin-right: -1px; }\n\n      :host([align="row-reverse"]) #tabs li[active]\n      { margin-top: -1px; }\n\n      :host([align="row-reverse"]) #tabs {\n        top: auto;\n        bottom: 0;\n      }\n\n      /**** Columns ****/\n\n      :host([align="column"]) #wrapper\n      { flex-direction: row; }\n\n      :host([align="column"]) #tabs\n      { flex-direction: column; }\n\n      :host([align="column"]) #tabs li\n      { margin-bottom: -1px; }\n\n      :host([align="column"]) #tabs li[active]\n      { margin-right: -1px; }\n\n      :host([align="column-reverse"]) #wrapper\n      { flex-direction: row-reverse; }\n\n      :host([align="column-reverse"]) #tabs\n      { flex-direction: column; }\n\n      :host([align="column-reverse"]) #tabs li {\n        margin-bottom: -1px;\n        margin-left: -1px;\n      }\n\n      /**** Justify ****/\n\n      :host([justify="center"]) #tabs\n      { justify-content: center; }\n\n      :host([justify="end"]) #tabs\n      { justify-content: flex-end; }\n\n      :host([justify="stretch"]) #tabs li\n      { flex-grow: 1; }\n\n      :host([justify="space-between"]) #tabs\n      { justify-content: space-between; }\n\n      :host([justify="space-around"]) #tabs\n      { justify-content: space-around; }\n    </style>\n\n    <div id="wrapper" part="wrapper">\n      <menu id="tabs" role="tablist" part="tablist"></menu>\n      <div id="content-pane" role="tabpanels" part="tabpanels"></div>\n    </div>\n    <div class="initial-slots">\n      <slot name="title"></slot>\n      <slot name="content"></slot>\n    </div>\n    '}constructor(){super(),this.attachShadow({mode:"open"})}attributeChangedCallback(t,n,e){if(n!==e){switch(t){case"active":e=+e,this.#t=e,this.#l(n,e);break;case"align":this.#n=e;break;case"justify":this.#e=e;break;case"sanitize":e=!1!==e&&"false"!==e,this.#i=e}window.abind&&abind.update(this,t,e)}}connectedCallback(){this.shadowRoot.append(ATabset.template.content.cloneNode(!0)),this.#s=this.shadowRoot.querySelector("#tabs"),this.#o=this.shadowRoot.querySelector("#content-pane"),this.#c(),this.#a=this.shadowRoot.querySelectorAll("#tabs li"),this.#l(null,this.active),this.#s.addEventListener("click",this.#b.bind(this)),this.#s.addEventListener("keydown",this.#d.bind(this))}#c(){const t=this.shadowRoot.querySelector('slot[name="title"]'),n=this.shadowRoot.querySelector('slot[name="content"]');t.assignedElements().forEach(((t,n)=>{const e=`title-${n}`;t.slot=e;const i=document.createElement("li");i.id=e,i.dataset.index=n+1,i.setAttribute("role","tab"),i.setAttribute("tabindex",-1);const a=document.createElement("slot");a.name=e,i.appendChild(a),this.#s.appendChild(i)})),n.assignedElements().forEach(((t,n)=>{const e=`content-${n}`;t.slot=e;const i=document.createElement("section");i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",`title-${n+1}`);const a=document.createElement("slot");a.name=e,i.appendChild(a),this.#o.appendChild(i)}))}#d(t){if(!this.#a||0===this.#a.length)return;const n=this.active-1;let e=n;const i="column"===this.align||"column-reverse"===this.align,a=!i,s=this.#a.length;if("ArrowRight"===t.key&&a)e=(n+1)%s;else if("ArrowLeft"===t.key&&a)e=(n-1+s)%s;else if("ArrowDown"===t.key&&i)e=(n+1)%s;else if("ArrowUp"===t.key&&i)e=(n-1+s)%s;else if("Home"===t.key)e=0;else{if("End"!==t.key)return;e=s-1}t.preventDefault(),this.#a[e].focus(),this.active=e+1}#b(t){const n=t.composedPath().find((t=>t.parentElement===this.#s&&t.hasAttribute("data-index")));n&&(this.active=n.dataset.index)}async#l(t,n){if(t=t||1,!this.#a)return;const e=Array.from(this.#o.children),i=parseInt(t,10)-1,a=parseInt(n,10)-1;if(i>=0&&this.#a[i]&&(this.#a[i].removeAttribute("active"),this.#a[i].setAttribute("tabindex","-1"),e[i].removeAttribute("active")),a>=0&&this.#a[a]){this.#a[a].setAttribute("active",""),this.#a[a].setAttribute("tabindex","0");const t=e[a];t.setAttribute("active","");const n=t.querySelector("slot")?.assignedElements()[0];if(!n)return;const i=n.getAttribute("src");if(i&&!n.dataset.loaded)try{const t=await fetch(i),e=await t.text();this.hasAttribute("sanitize")?await this.#h(n,e):n.innerHTML=e,n.dataset.loaded=!0}catch(t){console.error("Failed to fetch content:",t),n.textContent="Failed to load content."}}}async#h(t,n){let e;window.Sanitizer?(e=new window.Sanitizer,t.setHTML(n,{sanitizer:e})):(e=await ATabset.#u(),t.innerHTML=e.sanitize(n))}static async#u(){return this.#r||(this.#r=import(this.domPurifyUrl).then((t=>t.default))),this.#r}get active(){return this.#t}set active(t){this.setAttribute("active",+t)}get align(){return this.#n}set align(t){this.setAttribute("align",t)}get justify(){return this.#e}set justify(t){this.setAttribute("justify",t)}get sanitize(){return this.#i}set sanitize(t){this.setAttribute("sanitize",t)}}customElements.get("a-tabset")||customElements.define("a-tabset",ATabset);
